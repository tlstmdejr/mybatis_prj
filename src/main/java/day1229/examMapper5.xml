<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="day1229">
 
<!-- subquery&join
	제조국이 국산인 모든차량의 제조국,제조사 모델명 연식 가격 이미지 입력일 검색
	가장마지막에 입력된 차량부터 10건만조회
	  -->
	<select id="subNjoin" resultType="cmoDomain">
		select country,maker,model,car_year,price,cc,car_img,hiredate
	from(
	select cc.country, cc.maker, cm.model, cmo.car_year, cmo.price, cmo.cc, cmo.car_img, cmo.hiredate,
	row_number() over(order by cmo.hiredate desc) rnum
from car_model cmo, car_maker cm, car_country cc
where (cm.maker=cc.maker and cmo.model=cm.model)
		and (cc.country='국산'))
where rnum between 1 and 10
	</select>
<!-- $의사용 
	테이블명을 입력받아서 검색
 -->
 <select id="dollar" parameterType="String" resultType="eaDomain">
 select	empno,ename,job,sal,hiredate,deptno
 from ${tableName}
 
 </select>
<!-- dynamic query : if
		부서번호가 0이 아니면 해당 부서를 조회하고 그렇지 않으면 모든 사원정보를 조회 -->
<select id="if" parameterType="int" resultType="eaDomain">
select empno,ename,job,sal,hiredate,deptno
from emp
<where>
<if test="deptno neq 0">
deptno= #{deptno}
</if>
</where>
</select>
<!-- dynamic query : choose -->
<!-- dynamic query : forEach -->
<!-- dynamic query : set -->
<!-- PL/SQL insert, update, delete, cursor -->

</mapper>